import os
import re
import telebot
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton

BOT_TOKEN = "8030110367:AAErMXwJnkXPhTMLuojFEHq39Oi_odgHpUE"
bot = telebot.TeleBot(BOT_TOKEN)

# ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
# 1) –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
NUMBERS_FILE = "used_numbers.txt"
if os.path.exists(NUMBERS_FILE):
    with open(NUMBERS_FILE, "r", encoding="utf-8") as f:
        used_numbers = set(line.strip() for line in f if line.strip())
else:
    used_numbers = set()

# –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –∏–º—ë–Ω –≤ –¥–∏–∞–ª–æ–≥–µ
user_data = {}

# ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
# 2) –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã

def back_keyboard():
    kb = InlineKeyboardMarkup(row_width=2)
    kb.add(
        InlineKeyboardButton("‚Ü© –ù–∞–∑–∞–¥", callback_data="to_menu"),
        InlineKeyboardButton("üè† –í –º–µ–Ω—é", callback_data="to_menu"),
    )
    return kb

def inline_main_keyboard():
    kb = InlineKeyboardMarkup(row_width=3)
    kb.add(
        InlineKeyboardButton("üè† –ì–ª–∞–≤–Ω–∞—è", url="https://–ª–¥.—Ä—Ñ"),
        InlineKeyboardButton("üìã –í–∞–∫–∞–Ω—Å–∏–∏", callback_data="MENU_VACANCIES"),
        InlineKeyboardButton("üè≠ –û –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–∏", callback_data="MENU_ABOUT"),
        InlineKeyboardButton("üì¶ –ö–∞—Ç–∞–ª–æ–≥", url="https://–ª–¥.—Ä—Ñ/catalog/"),
        InlineKeyboardButton("üìá –ö–æ–Ω—Ç–∞–∫—Ç—ã", callback_data="MENU_CONTACTS"),
        InlineKeyboardButton("üì≤ –ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫", callback_data="MENU_CALL"),
    )
    return kb

def send_main_menu(chat_id):
    bot.send_message(chat_id, "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:", reply_markup=inline_main_keyboard())

# ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
# 3) –î–∞–Ω–Ω—ã–µ: —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

PREP_LINK = "–ú–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑–¥–µ—Å—å!\nhttps://ld-center.getcourse.ru/start\n\n"

exam_table = {
    # 1. –ó–∞–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ü–µ—Ö
    "prod_zag_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω –≤–∫–ª—é—á–∞–µ—Ç: —á—Ç–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —á–µ—Ä—Ç–µ–∂–µ–π, –æ—Å–Ω–æ–≤—ã –º–µ—Ç—Ä–æ–ª–æ–≥–∏–∏, –ø—Ä–∞–≤–∏–ª–∞ –æ—Ö—Ä–∞–Ω—ã —Ç—Ä—É–¥–∞ –∏ –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.",
    "prod_zag_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ –ª–∏–Ω–µ–π–∫–æ–π –∏ —à—Ç–∞–Ω–≥–µ–Ω—Ü–∏—Ä–∫—É–ª–µ–º.",
    "prod_zag_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞–º –æ—Ö—Ä–∞–Ω—ã —Ç—Ä—É–¥–∞.",

    # 2. –†–µ–º–æ–Ω—Ç–Ω–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–µ—Ö
    "prod_rem_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á—Ç–µ–Ω–∏–µ —á–µ—Ä—Ç–µ–∂–µ–π, –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",
    "prod_rem_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ (–¥–ª—è –≥—Ä—É–∑—á–∏–∫–∞).",
    "prod_rem_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: —Ç–µ–æ—Ä–∏—è —Å—Ç–∞–Ω–∫–æ–≤ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤—ã–∫–æ–≤.",
    "prod_rem_4": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ª–µ–Ω—Ç–æ—á–Ω–æ–ø–∏–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞).",
    "prod_rem_5": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –Ω–∞–≥—Ä–µ–≤—É –ø–µ—á–µ–π –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ (–¥–ª—è —Ç–µ—Ä–º–∏—Å—Ç–∞).",
    "prod_rem_6": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ (–¥–ª—è –≥—Ä—É–∑—á–∏–∫–∞).",

    # 3. –£—á–∞—Å—Ç–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤
    "prod_red_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á—Ç–µ–Ω–∏–µ —á–µ—Ä—Ç–µ–∂–µ–π, –æ—Å–Ω–æ–≤—ã –∑—É–±–æ—Ñ—Ä–µ–∑–µ—Ä–æ–≤–∞–Ω–∏—è, –º–µ—Ç—Ä–æ–ª–æ–≥–∏—è –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",
    "prod_red_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: —Ç–µ—Å—Ç –ø–æ —Å–≤–∞—Ä–æ—á–Ω—ã–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_red_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_red_4": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤ –∏ —Ç–µ—Ö–Ω–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.",

    # 4. –§–ª–∞–Ω—Ü–µ–≤—ã–π —Ü–µ—Ö
    "prod_flan_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á—Ç–µ–Ω–∏–µ —á–µ—Ä—Ç–µ–∂–µ–π —Ñ–ª–∞–Ω—Ü–µ–≤, –æ—Å–Ω–æ–≤—ã –≥–∏–¥—Ä–∞–≤–ª–∏–∫–∏, –º–µ—Ç—Ä–æ–ª–æ–≥–∏—è –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",
    "prod_flan_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: –≤–ª–∞–¥–µ–Ω–∏–µ —à—Ç–∞–Ω–≥–µ–Ω—Ü–∏—Ä–∫—É–ª–µ–º –∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_flan_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: —Ç–µ–æ—Ä–∏—è —Å–≤–∞—Ä–∫–∏ —Ñ–ª–∞–Ω—Ü–µ–≤ –∏ —Ç–µ—Ö–Ω–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.",
    "prod_flan_4": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_flan_5": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤—ã–∫–æ–≤ —ç–ª–µ–∫—Ç—Ä–æ—Å–≤–∞—Ä–∫–∏ –∏ –æ—Ö—Ä–∞–Ω—ã —Ç—Ä—É–¥–∞.",
    "prod_flan_6": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ (–¥–ª—è –≥–∞–ª—Ç–æ–≤—â–∏–∫–∞).",

    # 5. –¶–µ—Ö –±–æ–ª—å—à–∏—Ö –∫—Ä–∞–Ω–æ–≤
    "prod_kran_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á—Ç–µ–Ω–∏–µ —Å—Ö–µ–º –∫—Ä–∞–Ω–æ–≤, –æ—Å–Ω–æ–≤—ã –º–µ—Ö–∞–Ω–∏–∫–∏, –º–µ—Ç—Ä–æ–ª–æ–≥–∏—è –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",
    "prod_kran_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + –ø—Ä–∞–∫—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ª–µ–Ω—Ç–æ—á–Ω–æ–ø–∏–ª—å–Ω—ã–º —Å—Ç–∞–Ω–∫–æ–º –∏ –û–¢.",
    "prod_kran_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Ç–µ—Ö–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –∑–Ω–∞–Ω–∏—è –ß–ü–£-—Å—Ç–∞–Ω–∫–æ–≤ –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",
    "prod_kran_4": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–≤–∞—Ä–∫–µ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_kran_5": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–æ–ª–∏—Ä–æ–≤–∫–µ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_kran_6": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ (–¥–ª—è –≥—Ä—É–∑—á–∏–∫–∞).",

    # 6. –¶–µ—Ö –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤
    "prod_polu_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á–µ—Ä—Ç–µ–∂–∏, –æ—Å–Ω–æ–≤—ã —Ä–µ–∑–∫–∏, –º–µ—Ç—Ä–æ–ª–æ–≥–∏—è –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",
    "prod_polu_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–∞—Ä–æ—á–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ –∏ –æ—Ö—Ä–∞–Ω—ã —Ç—Ä—É–¥–∞.",
    "prod_polu_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Ç–µ—Ö–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–æ–ª–∏—Ä–æ–≤–∫–µ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_polu_4": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_polu_5": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø–æ–ª–∏—Ä–æ–≤–∫–µ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_polu_6": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç–µ—Ä–º–∏—Å—Ç—É –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_polu_7": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –°–û–ñ, –ì–°–ú –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",

    # 7. –¶–µ—Ö —Å–µ—Ä–∏–π–Ω–æ–π —Å–±–æ—Ä–∫–∏
    "prod_sbor_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —Å–±–æ—Ä–∫–∞ –ø–æ —á–µ—Ä—Ç–µ–∂–∞–º, –º–µ—Ç—Ä–æ–ª–æ–≥–∏—è, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    "prod_sbor_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",
    "prod_sbor_3": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–∞—Ä–æ—á–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ –∏ –æ—Ö—Ä–∞–Ω—ã —Ç—Ä—É–¥–∞.",
    "prod_sbor_4": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–±–æ—Ä–∫–µ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞.",

    # 8. –ò–Ω–∂–µ–Ω–µ—Ä–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
    "eng_1_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á—Ç–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —á–µ—Ä—Ç–µ–∂–µ–π, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Ö–ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    "eng_1_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω + —Å–≤–∞—Ä–∫–∞: —Ç–µ–æ—Ä–∏—è —Å–≤–∞—Ä–æ—á–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",

    # 9. –°–ª—É–∂–±–∞ –∫–∞—á–µ—Å—Ç–≤–∞
    "eng_kach_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –æ—Å–Ω–æ–≤—ã –º–µ—Ç—Ä–æ–ª–æ–≥–∏–∏, –º–µ—Ç–æ–¥–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    "eng_kach_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",

    # 10. –û–¢–ö (–∑–∞–≥–æ—Ç–æ–≤–∫–∞)
    "eng_otk_z_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á–µ—Ä—Ç–µ–∂–∏ –∑–∞–≥–æ—Ç–æ–≤–æ–∫, –º–∞–∫–µ—Ç—ã, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    "eng_otk_z_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.",

    # 11. –û–¢–ö (—Å–±–æ—Ä–∫–∞ –∏ —Å–≤–∞—Ä–∫–∞)
    "eng_otk_s_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —á–µ—Ä—Ç–µ–∂–∏ —Å–±–æ—Ä–∫–∏, —Å–≤–∞—Ä–∫–∞, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    "eng_otk_s_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.",

    # 12. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –ù–ö
    "eng_lab_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –º–µ—Ç–æ–¥–∏–∫–∏ –ù–ö, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
    "eng_lab_2": "–ù–µ–ø–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω—ã–º —Å—Ç–µ–Ω–¥–∞–º –∏ –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞.",

    # 13. –°–µ—Ä–≤–∏—Å–Ω–∞—è —Å–ª—É–∂–±–∞
    "eng_serv_1": "–ü–æ–ª–Ω—ã–π —ç–∫–∑–∞–º–µ–Ω: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–µ—Ä–≤–∏—Å—É, –æ—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è.",
}

# –∫–∞—Ä—Ç–∞ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π ‚Üí —Å–ø–∏—Å–æ–∫ (—Ç–µ–∫—Å—Ç, callback)
sections = [
    ("prod_zag", "üìÅ –ó–∞–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ü–µ—Ö"),
    ("prod_rem", "üîß –†–µ–º–æ–Ω—Ç–Ω–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ü–µ—Ö"),
    ("prod_red", "‚öôÔ∏è –£—á–∞—Å—Ç–æ–∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ–¥—É–∫—Ç–æ—Ä–æ–≤"),
    ("prod_flan", "üõ† –§–ª–∞–Ω—Ü–µ–≤—ã–π —Ü–µ—Ö"),
    ("prod_kran", "üèó –¶–µ—Ö –±–æ–ª—å—à–∏—Ö –∫—Ä–∞–Ω–æ–≤"),
    ("prod_polu", "üß± –¶–µ—Ö –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤"),
    ("prod_sbor", "üî© –¶–µ—Ö —Å–µ—Ä–∏–π–Ω–æ–π —Å–±–æ—Ä–∫–∏"),
    ("eng_main", "‚úèÔ∏è –ò–Ω–∂–µ–Ω–µ—Ä–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏"),
    ("eng_kach", "üßÆ –°–ª—É–∂–±–∞ –∫–∞—á–µ—Å—Ç–≤–∞"),
    ("eng_otk_z", "üîé –û–¢–ö (–∑–∞–≥–æ—Ç–æ–≤–∫–∞)"),
    ("eng_otk_s", "üõ† –û–¢–ö (—Å–±–æ—Ä–∫–∞ –∏ —Å–≤–∞—Ä–∫–∞)"),
    ("eng_lab", "üì° –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –Ω–µ—Ä–∞–∑—Ä—É—à–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è"),
    ("eng_serv", "üß∞ –°–µ—Ä–≤–∏—Å–Ω–∞—è —Å–ª—É–∂–±–∞"),
]

# –∫–∞—Ä—Ç–∞ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π ‚Üí –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
section_map = {
    "prod_zag": [
        ("1) –ú–∞—Å—Ç–µ—Ä, —Ç–æ–∫–∞—Ä—å", "prod_zag_1"),
        ("2) –ë—Ä–∏–≥–∞–¥–∏—Ä-–æ–ø–µ—Ä–∞—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–ø–∏–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞", "prod_zag_2"),
        ("3) –ì–∞–ª—Ç–æ–≤—â–∏–∫, –≥—Ä—É–∑—á–∏–∫", "prod_zag_3"),
    ],
    "prod_rem": [
        ("1) –ú–∞—Å—Ç–µ—Ä, –∏–Ω–∂–µ–Ω–µ—Ä-—ç–∫–æ–Ω–æ–º–∏—Å—Ç, –∏–Ω–∂–µ–Ω–µ—Ä-—Ç–µ—Ö–Ω–æ–ª–æ–≥, –∏–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É", "prod_rem_1"),
        ("2) –ì—Ä—É–∑—á–∏–∫", "prod_rem_2"),
        ("3) –ù–∞–ª–∞–¥—á–∏–∫ —Ç–æ–∫–∞—Ä–Ω–æ–π –≥—Ä—É–ø–ø—ã, –Ω–∞–ª–∞–¥—á–∏–∫ –ß–ü–£, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ß–ü–£", "prod_rem_3"),
        ("4) –û–ø–µ—Ä–∞—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–ø–∏–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞", "prod_rem_4"),
        ("5) –¢–µ—Ä–º–∏—Å—Ç –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—á–µ–π, —Å–ª–µ—Å–∞—Ä—å-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å—â–∏–∫", "prod_rem_5"),
        ("6) –ì—Ä—É–∑—á–∏–∫", "prod_rem_6"),
    ],
    "prod_red": [
        ("1) –ú–∞—Å—Ç–µ—Ä, –º–∞–ª—è—Ä, –æ–ø–µ—Ä–∞—Ç–æ—Ä –∑—É–±–æ—Ñ—Ä–µ–∑–µ—Ä–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞, —Ç–æ–∫–∞—Ä—å, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ß–ü–£", "prod_red_1"),
        ("2) –ù–∞–ª–∞–¥—á–∏–∫ –ß–ü–£, —Å–ª–µ—Å–∞—Ä—å –º–µ—Ö–∞–Ω–æ-—Å–±–æ—Ä–æ—á–Ω—ã—Ö —Ä–∞–±–æ—Ç", "prod_red_2"),
        ("3) –¢–µ—Ä–º–∏—Å—Ç –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—á–µ–π", "prod_red_3"),
        ("4) –≠–ª–µ–∫—Ç—Ä–æ—Å–≤–∞—Ä—â–∏–∫ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –ø/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö", "prod_red_4"),
    ],
    "prod_flan": [
        ("1) –ú–∞—Å—Ç–µ—Ä, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ß–ü–£, —Ç–æ–∫–∞—Ä—å, —Å–≤–µ—Ä–ª–æ–≤—â–∏–∫", "prod_flan_1"),
        ("2) –ù–∞–ª–∞–¥—á–∏–∫ —Ç–æ–∫–∞—Ä–Ω—ã—Ö –∞–≤—Ç–æ–º–∞—Ç–æ–≤, –Ω–∞–ª–∞–¥—á–∏–∫ —Ö–æ–ª–æ–¥–Ω–æ—à—Ç–∞–º–ø–æ–≤–æ—á–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è", "prod_flan_2"),
        ("3) –ù–∞–ª–∞–¥—á–∏–∫ —à–µ—Å—Ç–∏—à–ø–∏–Ω–¥–µ–ª—å–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞, —Å–ª–µ—Å–∞—Ä—å-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å—â–∏–∫", "prod_flan_3"),
        ("4) –û–ø–µ—Ä–∞—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–ø–∏–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞", "prod_flan_4"),
        ("5) –≠–ª–µ–∫—Ç—Ä–æ—Å–≤–∞—Ä—â–∏–∫ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –ø/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö", "prod_flan_5"),
        ("6) –ì–∞–ª—Ç–æ–≤—â–∏–∫, –≥—Ä—É–∑—á–∏–∫, –∑–µ–Ω–∫–æ–≤—â–∏–∫", "prod_flan_6"),
    ],
    "prod_kran": [
        ("1) –ú–∞—Å—Ç–µ—Ä, –º–∞–ª—è—Ä, –Ω–∞–ª–∞–¥—á–∏–∫ —Ö–æ–ª–æ–¥–Ω–æ—à—Ç–∞–º–ø–æ–≤–æ—á–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è", "prod_kran_1"),
        ("2) –û–ø–µ—Ä–∞—Ç–æ—Ä –ª–µ–Ω—Ç–æ—á–Ω–æ–ø–∏–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞, –æ–ø–µ—Ä–∞—Ç–æ—Ä –º–∞—à–∏–Ω—ã —Ç–µ—Ä–º–∏—á–µ—Å–∫–æ–π —Ä–µ–∑–∫–∏", "prod_kran_2"),
        ("3) –û–ø–µ—Ä–∞—Ç–æ—Ä –ß–ü–£, —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫, —Å–≤–µ—Ä–ª–æ–≤—â–∏–∫, —Ç–æ–∫–∞—Ä—å, —Ñ—Ä–µ–∑–µ—Ä–æ–≤—â–∏–∫", "prod_kran_3"),
        ("4) –≠–ª–µ–∫—Ç—Ä–æ—Å–≤–∞—Ä—â–∏–∫ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –ø/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö", "prod_kran_4"),
        ("5) –ü–æ–ª–∏—Ä–æ–≤—â–∏–∫", "prod_kran_5"),
        ("6) –ì—Ä—É–∑—á–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä –¥—Ä–æ–±–µ—Å—Ç—Ä—É–π–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Ä–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π, —É–ø–∞–∫–æ–≤—â–∏–∫", "prod_kran_6"),
    ],
    "prod_polu": [
        ("1) –ú–∞—Å—Ç–µ—Ä, –Ω–∞–ª–∞–¥—á–∏–∫ –º–µ—Ö. –Ω–æ–∂–Ω–∏—Ü, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ß–ü–£, —Ä–µ–∑—á–∏–∫ –º–µ—Ç–∞–ª–ª–∞, —Å—Ç—Ä–æ–≥–∞–ª—å—â–∏–∫-–¥–æ–ª–±–µ–∂–Ω–∏–∫", "prod_polu_1"),
        ("2) –≠–ª–µ–∫—Ç—Ä–æ—Å–≤–∞—Ä—â–∏–∫ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –ø/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö", "prod_polu_2"),
        ("3) –ü–æ–ª–∏—Ä–æ–≤—â–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ö–æ–ª–æ–¥–Ω–æ—à—Ç–∞–º–ø–æ–≤–æ—á–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, —Ç–µ—Ä–º–∏—Å—Ç –ø–µ—á–µ–π", "prod_polu_3"),
        ("4) –ì—Ä—É–∑—á–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ä–º–æ–¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –°–û–ñ –∏ –ì–°–ú", "prod_polu_4"),
        ("5) –ü–æ–ª–∏—Ä–æ–≤—â–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ö–æ–ª–æ–¥–Ω–æ—à—Ç–∞–º–ø–æ–≤–æ—á–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è", "prod_polu_5"),
        ("6) –¢–µ—Ä–º–∏—Å—Ç –Ω–∞–≥—Ä–µ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—á–µ–π", "prod_polu_6"),
        ("7) –ì—Ä—É–∑—á–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Ä–º–æ–¥–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –°–û–ñ –∏ –ì–°–ú", "prod_polu_7"),
    ],
    "prod_sbor": [
        ("1) –ú–∞—Å—Ç–µ—Ä, –º–∞–ª—è—Ä, –Ω–∞–ª–∞–¥—á–∏–∫ –ß–ü–£, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ß–ü–£, —Ç–æ–∫–∞—Ä—å", "prod_sbor_1"),
        ("2) –≠–ª–µ–∫—Ç—Ä–æ—Å–≤–∞—Ä—â–∏–∫ –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏ –ø/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö", "prod_sbor_2"),
        ("3) –ì—Ä—É–∑—á–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä –¥—Ä–æ–±–µ—Å—Ç—Ä—É–π–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Å–ª–µ—Å–∞—Ä—å –º–µ—Ö–∞–Ω–æ-—Å–±–æ—Ä–æ—á–Ω—ã—Ö —Ä–∞–±–æ—Ç, —É–ø–∞–∫–æ–≤—â–∏–∫", "prod_sbor_3"),
        ("4) –ì—Ä—É–∑—á–∏–∫, –æ–ø–µ—Ä–∞—Ç–æ—Ä –¥—Ä–æ–±–µ—Å—Ç—Ä—É–π–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —Å–ª–µ—Å–∞—Ä—å –º–µ—Ö–∞–Ω–æ-—Å–±–æ—Ä–æ—á–Ω—ã—Ö —Ä–∞–±–æ—Ç, —É–ø–∞–∫–æ–≤—â–∏–∫", "prod_sbor_4"),
    ],
    "eng_main": [
        ("1) –ò–Ω–∂–µ–Ω–µ—Ä-—Ç–µ—Ö–Ω–æ–ª–æ–≥, –∏–Ω–∂–µ–Ω–µ—Ä-—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Ç–µ—Ö–Ω–æ–ª-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Ç–µ—Ö–Ω–æ–ª–æ–≥ –º–µ—Ç–∞–ª–ª–æ–æ–±—Ä–∞–±–æ—Ç–∫–∏", "eng_1_1"),
        ("2) –¢–µ—Ö–Ω–æ–ª–æ–≥ —Å–≤–∞—Ä–æ—á–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞", "eng_1_2"),
    ],
    "eng_kach": [
        ("1) –ú–µ—Ç—Ä–æ–ª–æ–≥", "eng_kach_1"),
        ("2) –ò–Ω–∂–µ–Ω–µ—Ä –ø–æ –∫–∞—á–µ—Å—Ç–≤—É, –∏–Ω–∂–µ–Ω–µ—Ä –ø–æ –≤—Ö–æ–¥–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—é", "eng_kach_2"),
    ],
    "eng_otk_z": [
        ("1) –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä, —Å—Ç–∞—Ä—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä", "eng_otk_z_1"),
        ("2) –ú–∞—Å—Ç–µ—Ä", "eng_otk_z_2"),
    ],
    "eng_otk_s": [
        ("1) –°—Ç–∞—Ä—à–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä, –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ª–∞–∑–µ—Ä–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π", "eng_otk_s_1"),
        ("2) –ú–∞—Å—Ç–µ—Ä", "eng_otk_s_2"),
    ],
    "eng_lab": [
        ("1) –î–µ—Ñ–µ–∫—Ç–æ—Å–∫–æ–ø–∏—Å—Ç-—Ä–µ–Ω—Ç–≥–µ–Ω–æ–ª–æ–≥, –¥–µ—Ñ–µ–∫—Ç–æ—Å–∫–æ–ø–∏—Å—Ç", "eng_lab_1"),
        ("2) –û–ø–µ—Ä–∞—Ç–æ—Ä –∏—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å—Ç–µ–Ω–¥–∞, —Å—Ç–∞—Ä—à–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä", "eng_lab_2"),
    ],
    "eng_serv": [
        ("1) –ò–Ω–∂–µ–Ω–µ—Ä", "eng_serv_1"),
    ],
}

# ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
# 4) –•–µ–Ω–¥–ª–µ—Ä—ã

@bot.message_handler(commands=['start'])
def cmd_start(m):
    send_main_menu(m.chat.id)

@bot.callback_query_handler(func=lambda c: c.data == "to_menu")
def cb_to_menu(c):
    send_main_menu(c.message.chat.id)
    bot.answer_callback_query(c.id)

@bot.callback_query_handler(func=lambda c: c.data == "MENU_VACANCIES")
def cb_menu_vacancies(c):
    kb = InlineKeyboardMarkup(row_width=1)
    for idx, (key, title) in enumerate(sections, start=1):
        kb.add(InlineKeyboardButton(f"{idx}. {title}", callback_data=key))
    kb.add(InlineKeyboardButton("üè† –í –º–µ–Ω—é", callback_data="to_menu"))
    bot.edit_message_text("–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:", c.message.chat.id, c.message.message_id, reply_markup=kb)
    bot.answer_callback_query(c.id)

@bot.callback_query_handler(func=lambda c: c.data == "MENU_ABOUT")
def cb_menu_about(c):
    about = (
        "–ß–µ–ª—è–±–∏–Ω—Å–∫–°–ø–µ—Ü–ì—Ä–∞–∂–¥–∞–Ω–°—Ç—Ä–æ–π (–ß–°–ì–°) –ø–æ–¥ –±—Ä–µ–Ω–¥–æ–º LD —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 2003 –≥–æ–¥–∞.\n\n"
        "üè≠ –í–µ–¥—É—â–∏–π —É—Ä–∞–ª—å—Å–∫–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å —Å—Ç–∞–ª—å–Ω—ã—Ö —à–∞—Ä–æ–≤—ã—Ö –∫—Ä–∞–Ω–æ–≤\n"
        "üìç 5 –ø–ª–æ—â–∞–¥–æ–∫, –±–æ–ª–µ–µ 2800 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤\n"
        "‚öôÔ∏è –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ ‚Üí –ª–æ–≥–∏—Å—Ç–∏–∫–∞\n"
        "‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—è 10 –ª–µ—Ç –∏ —Å–µ—Ä–≤–∏—Å 24/7\n"
        "üåç –ü–∞—Ä—Ç–Ω—ë—Ä—ã: –ì–∞–∑–ø—Ä–æ–º –∏ –∫—Ä—É–ø–Ω—ã–µ —Ç–µ–ø–ª–æ—ç–Ω–µ—Ä–≥–æ—Å–µ—Ç–µ–≤—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏\n\n"
        "–ú–∏—Å—Å–∏—è: –Ω–∞–¥—ë–∂–Ω–∞—è —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–Ω–∞—è –∞—Ä–º–∞—Ç—É—Ä–∞ –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ñ–ö–•."
    )
    bot.edit_message_text(about, c.message.chat.id, c.message.message_id, reply_markup=back_keyboard())
    bot.answer_callback_query(c.id)

@bot.callback_query_handler(func=lambda c: c.data == "MENU_CONTACTS")
def cb_menu_contacts(c):
    contact = (
        "üìû –¢–µ–ª–µ—Ñ–æ–Ω/—Ñ–∞–∫—Å:\n"
        "+7 (351) 730-47-47\n"
        "+7 (351) 796-30-85\n\n"
        "‚úâÔ∏è Email: office@chsgs.ru\n"
        "üåê –°–∞–π—Ç: www.chsgs.ru"
    )
    bot.edit_message_text(contact, c.message.chat.id, c.message.message_id, reply_markup=back_keyboard())
    bot.answer_callback_query(c.id)

@bot.callback_query_handler(func=lambda c: c.data == "MENU_CALL")
def cb_menu_call(c):
    bot.edit_message_text("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã):", c.message.chat.id, c.message.message_id, reply_markup=back_keyboard())
    bot.answer_callback_query(c.id)
    bot.register_next_step_handler_by_chat_id(c.message.chat.id, process_name)

def process_name(m):
    txt = m.text.strip()
    if txt in ("‚Ü© –ù–∞–∑–∞–¥", "üè† –í –º–µ–Ω—é"):
        send_main_menu(m.chat.id)
        return
    if not re.fullmatch(r"[–ê-–Ø–∞-—è–Å—ë ]{2,}", txt):
        bot.send_message(m.chat.id, "‚ùó –ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä—É—Å—Å–∫–∏–µ –±—É–∫–≤—ã.", reply_markup=back_keyboard())
        bot.register_next_step_handler(process_name)
        return
    user_data[m.chat.id] = {"name": txt}
    bot.send_message(m.chat.id, "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ +7XXXXXXXXXX:", reply_markup=back_keyboard())
    bot.register_next_step_handler(process_phone)

def process_phone(m):
    txt = m.text.strip()
    if txt in ("‚Ü© –ù–∞–∑–∞–¥", "üè† –í –º–µ–Ω—é"):
        send_main_menu(m.chat.id)
        return
    if not re.fullmatch(r"\+7\d{10}", txt):
        bot.send_message(m.chat.id, "‚ùó –§–æ—Ä–º–∞—Ç: +7XXXXXXXXXX (12 —Å–∏–º–≤–æ–ª–æ–≤).", reply_markup=back_keyboard())
        bot.register_next_step_handler(process_phone)
        return
    if txt in used_numbers:
        bot.send_message(m.chat.id, "‚ö†Ô∏è –≠—Ç–æ—Ç –Ω–æ–º–µ—Ä —É–∂–µ –≤–≤–µ–¥—ë–Ω. –í–≤–µ–¥–∏—Ç–µ –¥—Ä—É–≥–æ–π:", reply_markup=back_keyboard())
        bot.register_next_step_handler(process_phone)
        return
    used_numbers.add(txt)
    with open(NUMBERS_FILE, "a", encoding="utf-8") as f:
        f.write(txt + "\n")
    name = user_data[m.chat.id]["name"]
    bot.send_message(m.chat.id, f"‚úÖ –ó–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞!\n–ò–º—è: {name}\n–¢–µ–ª–µ—Ñ–æ–Ω: {txt}", reply_markup=inline_main_keyboard())
    user_data.pop(m.chat.id)

@bot.callback_query_handler(func=lambda c: c.data in dict(sections))
def cb_show_positions(c):
    kb = InlineKeyboardMarkup(row_width=1)
    for label, cb_data in section_map[c.data]:
        kb.add(InlineKeyboardButton(label, callback_data=cb_data))
    kb.add(InlineKeyboardButton("‚Ü© –ù–∞–∑–∞–¥", callback_data="MENU_VACANCIES"))
    kb.add(InlineKeyboardButton("üè† –í –º–µ–Ω—é", callback_data="to_menu"))
    bot.edit_message_text("–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–ª–∂–Ω–æ—Å—Ç—å:", c.message.chat.id, c.message.message_id, reply_markup=kb)
    bot.answer_callback_query(c.id)

@bot.callback_query_handler(func=lambda c: c.data in exam_table)
def cb_send_exam(c):
    bot.send_message(
        c.message.chat.id,
        PREP_LINK + exam_table[c.data],
        reply_markup=inline_main_keyboard()
    )
    bot.answer_callback_query(c.id)

bot.polling(none_stop=True)
